<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Mobile RF Mapper: com.example.fanchaozhou.project1.DBAccess Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="TAMUlogo.JPG"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mobile RF Mapper
   &#160;<span id="projectnumber">Project 2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>com</b></li><li class="navelem"><b>example</b></li><li class="navelem"><b>fanchaozhou</b></li><li class="navelem"><a class="el" href="namespacecom_1_1example_1_1fanchaozhou_1_1project1.html">project1</a></li><li class="navelem"><a class="el" href="classcom_1_1example_1_1fanchaozhou_1_1project1_1_1_d_b_access.html">DBAccess</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classcom_1_1example_1_1fanchaozhou_1_1project1_1_1_d_b_access-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">com.example.fanchaozhou.project1.DBAccess Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Creates a local SQLite database and data table in that database, as well as manages saving and retreiving data from the database. It extends the SQLiteOpenHelper class.  
 <a href="classcom_1_1example_1_1fanchaozhou_1_1project1_1_1_d_b_access.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for com.example.fanchaozhou.project1.DBAccess:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classcom_1_1example_1_1fanchaozhou_1_1project1_1_1_d_b_access.png" usemap="#com.example.fanchaozhou.project1.DBAccess_map" alt=""/>
  <map id="com.example.fanchaozhou.project1.DBAccess_map" name="com.example.fanchaozhou.project1.DBAccess_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a14eb2061bd5f80df97c11b47eb1fdb2a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a14eb2061bd5f80df97c11b47eb1fdb2a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1example_1_1fanchaozhou_1_1project1_1_1_d_b_access.html#a14eb2061bd5f80df97c11b47eb1fdb2a">onCreate</a> (SQLiteDatabase db)</td></tr>
<tr class="memdesc:a14eb2061bd5f80df97c11b47eb1fdb2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">When the class is instantiated, onCreate creates a table called DATA in the database, if there is not already an existing table with that name. The table contains columns for the Xbee ID, Device ID, RSSI, Latitude and Longitude, Yaw, Pitch, and Roll, Timestamp, and an indicator field showing whether or not a row has been sent to the server. <br /></td></tr>
<tr class="separator:a14eb2061bd5f80df97c11b47eb1fdb2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f1b0221359327fbd641b8e8dae8ee72"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9f1b0221359327fbd641b8e8dae8ee72"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1example_1_1fanchaozhou_1_1project1_1_1_d_b_access.html#a9f1b0221359327fbd641b8e8dae8ee72">onUpgrade</a> (SQLiteDatabase db, int oldVersion, int newVersion)</td></tr>
<tr class="memdesc:a9f1b0221359327fbd641b8e8dae8ee72"><td class="mdescLeft">&#160;</td><td class="mdescRight">method for upgrading to a new database version (this is not important for this project, it was just necessary for SQLiteOpenHelper) <br /></td></tr>
<tr class="separator:a9f1b0221359327fbd641b8e8dae8ee72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a3aec073351f7d9f16532740b462ca8"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1example_1_1fanchaozhou_1_1project1_1_1_d_b_access.html#a3a3aec073351f7d9f16532740b462ca8">addData</a> (JSONObject data)</td></tr>
<tr class="memdesc:a3a3aec073351f7d9f16532740b462ca8"><td class="mdescLeft">&#160;</td><td class="mdescRight">addData is a method for adding data to the database. It parses the JSON object passed to it and uses the classes ContentValues and SQLiteDatabase to write those values to the database. If successful, it returns true.  <a href="#a3a3aec073351f7d9f16532740b462ca8">More...</a><br /></td></tr>
<tr class="separator:a3a3aec073351f7d9f16532740b462ca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f3a2eeec955f3d4d2142593d9bc91c8"><td class="memItemLeft" align="right" valign="top">JSONArray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1example_1_1fanchaozhou_1_1project1_1_1_d_b_access.html#a5f3a2eeec955f3d4d2142593d9bc91c8">getUnsentData</a> ()</td></tr>
<tr class="memdesc:a5f3a2eeec955f3d4d2142593d9bc91c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">getUnsentData is a method to retreive data that has not been sent to the remote server. It retreives data by using the classes SQLiteDatabase and Cursor. It does and SQL query to retreive all rows that are marked as unsent. It then puts the columns from this row into an aprropriately formatted JSON object. This object is then added to a JSON array. Finally, the method executes an SQL statement to mark all of the rows it just retreived as sent and returns the JSON array.  <a href="#a5f3a2eeec955f3d4d2142593d9bc91c8">More...</a><br /></td></tr>
<tr class="separator:a5f3a2eeec955f3d4d2142593d9bc91c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aecd591da7a6e5670326da3159fd0b4"><td class="memItemLeft" align="right" valign="top">JSONArray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1example_1_1fanchaozhou_1_1project1_1_1_d_b_access.html#a0aecd591da7a6e5670326da3159fd0b4">getAllData</a> ()</td></tr>
<tr class="memdesc:a0aecd591da7a6e5670326da3159fd0b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">getAllData functions almost exactly the same as getUnsentData. The only difference is the first SQL query retreives all data ("SELECT * FROM Data") rather than only the unsent data ("SELECT * FROM Data WHERE sent='no'"). It still marks unsent data as sent. This method returns a JSON array containing all of the rows it retreived from the table.  <a href="#a0aecd591da7a6e5670326da3159fd0b4">More...</a><br /></td></tr>
<tr class="separator:a0aecd591da7a6e5670326da3159fd0b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a749f5ba9725420ddf5beaf721ee14a34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1example_1_1fanchaozhou_1_1project1_1_1_d_b_access.html#a749f5ba9725420ddf5beaf721ee14a34">clearData</a> ()</td></tr>
<tr class="memdesc:a749f5ba9725420ddf5beaf721ee14a34"><td class="mdescLeft">&#160;</td><td class="mdescRight">method to clear all data from the table  <a href="#a749f5ba9725420ddf5beaf721ee14a34">More...</a><br /></td></tr>
<tr class="separator:a749f5ba9725420ddf5beaf721ee14a34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a90476dab3db8033572964ce6791e5b39"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a90476dab3db8033572964ce6791e5b39"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>DB_NAME</b> = &quot;DATA.db&quot;</td></tr>
<tr class="separator:a90476dab3db8033572964ce6791e5b39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30826d157d621561ed9943f5ec5c500a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a30826d157d621561ed9943f5ec5c500a"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>COLUMN_XBEE_ID</b> = &quot;XbeeID&quot;</td></tr>
<tr class="separator:a30826d157d621561ed9943f5ec5c500a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80deac7ba35f3663388f15a61e01eed3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a80deac7ba35f3663388f15a61e01eed3"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>COLUMN_RSSI</b> = &quot;RSSI&quot;</td></tr>
<tr class="separator:a80deac7ba35f3663388f15a61e01eed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5c5be87b4560d7434e2e8019cd3833a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab5c5be87b4560d7434e2e8019cd3833a"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>COLUMN_DEVICE_ID</b> = &quot;DeviceID&quot;</td></tr>
<tr class="separator:ab5c5be87b4560d7434e2e8019cd3833a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9d9fb7f6e0795ecf3175699b4550bae"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab9d9fb7f6e0795ecf3175699b4550bae"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>COLUMN_LAT</b> = &quot;Latitude&quot;</td></tr>
<tr class="separator:ab9d9fb7f6e0795ecf3175699b4550bae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02d63d1c3a63d63b91572a67feba2a63"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a02d63d1c3a63d63b91572a67feba2a63"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>COLUMN_LONG</b> = &quot;Longitude&quot;</td></tr>
<tr class="separator:a02d63d1c3a63d63b91572a67feba2a63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3f57cd6d3570fab04caed22e0c6de8b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae3f57cd6d3570fab04caed22e0c6de8b"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>COLUMN_YAW</b> = &quot;Yaw&quot;</td></tr>
<tr class="separator:ae3f57cd6d3570fab04caed22e0c6de8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46f20660e5aea06af4751e8063cadc16"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a46f20660e5aea06af4751e8063cadc16"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>COLUMN_PITCH</b> = &quot;Pitch&quot;</td></tr>
<tr class="separator:a46f20660e5aea06af4751e8063cadc16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bd7fbd90a273bf086a5c40eb53b1018"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6bd7fbd90a273bf086a5c40eb53b1018"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>COLUMN_ROLL</b> = &quot;Roll&quot;</td></tr>
<tr class="separator:a6bd7fbd90a273bf086a5c40eb53b1018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a23f4d4c19c94a72c279ef8a5646814"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3a23f4d4c19c94a72c279ef8a5646814"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>COLUMN_TIMESTAMP</b> = &quot;SampleDate&quot;</td></tr>
<tr class="separator:a3a23f4d4c19c94a72c279ef8a5646814"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Creates a local SQLite database and data table in that database, as well as manages saving and retreiving data from the database. It extends the SQLiteOpenHelper class. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3a3aec073351f7d9f16532740b462ca8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">com.example.fanchaozhou.project1.DBAccess.addData </td>
          <td>(</td>
          <td class="paramtype">JSONObject&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>addData is a method for adding data to the database. It parses the JSON object passed to it and uses the classes ContentValues and SQLiteDatabase to write those values to the database. If successful, it returns true. </p>
<p>PARSE JSON OBJECT</p>
<p>INSERT INTO DB </p>

</div>
</div>
<a class="anchor" id="a749f5ba9725420ddf5beaf721ee14a34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">com.example.fanchaozhou.project1.DBAccess.clearData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>method to clear all data from the table </p>
<p>CLEAR ALL DATA IN TABLE </p>

</div>
</div>
<a class="anchor" id="a0aecd591da7a6e5670326da3159fd0b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">com.example.fanchaozhou.project1.DBAccess.getAllData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getAllData functions almost exactly the same as getUnsentData. The only difference is the first SQL query retreives all data ("SELECT * FROM Data") rather than only the unsent data ("SELECT * FROM Data WHERE sent='no'"). It still marks unsent data as sent. This method returns a JSON array containing all of the rows it retreived from the table. </p>
<p>PREPARE TO READ AND WRITE DATA</p>
<p>ITERATE THROUGH UNSENT DATA</p>
<p>PULL DATA FROM EACH COLUMN OF THE TABLE</p>
<p>PUT DATA INTO JSON OBJECT</p>
<p>ADD JSON OBJECT INTO A RESULTS ARRAY</p>
<p>MOVE TO NEXT ROW </p>

</div>
</div>
<a class="anchor" id="a5f3a2eeec955f3d4d2142593d9bc91c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">com.example.fanchaozhou.project1.DBAccess.getUnsentData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getUnsentData is a method to retreive data that has not been sent to the remote server. It retreives data by using the classes SQLiteDatabase and Cursor. It does and SQL query to retreive all rows that are marked as unsent. It then puts the columns from this row into an aprropriately formatted JSON object. This object is then added to a JSON array. Finally, the method executes an SQL statement to mark all of the rows it just retreived as sent and returns the JSON array. </p>
<p>PREPARE TO READ AND WRITE DATA</p>
<p>ITERATE THROUGH UNSENT DATA</p>
<p>PULL DATA FROM EACH COLUMN OF THE TABLE</p>
<p>PUT DATA INTO JSON OBJECT</p>
<p>ADD JSON OBJECT INTO A RESULTS ARRAY</p>
<p>MOVE TO NEXT ROW</p>
<p>MARK RETREIVED DATA AS SENT </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/keatonbrown/Documents/Googledrive/ECEN489-Spring2016/Project2/Project2/app/src/main/java/com/example/fanchaozhou/project1/<a class="el" href="_d_b_access_8java.html">DBAccess.java</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
